{"version":3,"sources":["webpack:///static/js/6.44d9957c.chunk.js","webpack:///./src/components/utils/RadioList.jsx?4b13***","webpack:///./src/family/UIConst.js?5a9b***","webpack:///./src/components/utils/RadioList.css?e3d0***","webpack:///./src/components/utils/RadioList.css?f9d2****","webpack:///./src/components/organization/OrganizationForm.jsx","webpack:///./src/components/organization/OrganizationListParts.jsx","webpack:///./src/components/organization/Organization.jsx","webpack:///./src/components/organization/OrganizationList.jsx","webpack:///./src/components/organization/Organization.css","webpack:///./src/components/organization/Organization.css?d322","webpack:///./src/components/organization/JoinedOrganizationList.jsx"],"names":["webpackJsonp","26","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactRedux","RadioList","_React$Component","this","_this","getPrototypeOf","state","curVal","e","setState","onChange","_this2","that","createElement","className","data","map","item","type","name","checked","handleChange","label","Component","mapStateToProps","mapDispatchToProps","connect","27","CONST","FORM","RADIO_LIST_DATA_VISIBILITY","28","push","id","29","content","locals","51","_propTypes","_propTypes2","_reactRouterDom","_mockjs","_utils","_RadioList","_RadioList2","_UIConst","mockOrganization","description","logo","ownerId","undefined","members","OrganizationForm","_Component","_initialiseProps","organization","filter","user","newOwner","owner","rmodal","context","auth","title","RParsley","ref","rparsley","onSubmit","handleSubmit","MembersInput","limit","users","fullname","visibility","placeholder","spellCheck","autoFocus","required","data-parsley-trigger","data-parsley-maxlength","SmartTextarea","rows","Link","to","onClick","preventDefault","close","contextTypes","object","isRequired","onAddOrganization","func","onUpdateOrganization","propTypes","_this3","_context","onAddOrUpdateOrganization","memberIds","_state","resolve","52","_toConsumableArray","arr","Array","isArray","arr2","from","getChildContext","_props","history","location","match","onDeleteOrganization","handleDelete","_this7","message","window","confirm","replaceLocation","store","uri","_family","StoreStateRouterLocationURI","dispatch","replace","href","handleJoin","_this8","next","handleExit","_this9","_context2","PaginationWithLocation","OrganizationListWithSpin","SearchGroup","OrganizationsTypeDropdown","CreateButton","childContextTypes","_OrganizationList","_OrganizationList2","_OrganizationForm","_OrganizationForm2","_organization","_go","PropTypes","handleUpdate","GoOrganization","RModal","when","onClose","onResolve","_Component2","_ref","_temp","_ret","_len","arguments","args","_key","apply","concat","handlePush","url","_this4","size","_Component3","_this5","handleSearch","_store$getState$route","getState","router","pathname","hash","search","URI","removeSearch","setSearch","_this6","autoComplete","trim","onKeyUp","which","$input","focus","_ref2","organizations","fetching","Spin","_Component4","calculated","Pagination","82","_OrganizationListParts","Organization","update","owned","joined","find","selfHelpJoin","Popover","alt","src","avatar","empId","83","_Organization","_Organization2","OrganizationList","string","array","87","88","334","_lodash","_lodash2","_moment","_moment2","JoinedOrganizationList","params","joiner","ownedOrganizations","joinedOrganizations","uniqBy","sort","a","b","updatedAt","diff"],"mappings":"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","file":"static/js/6.44d9957c.chunk.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 26:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(11);\n\t\n\t__webpack_require__(29);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\r\n\t *\r\n\t * @param {*} props  { label : [String], value : [String] }\r\n\t */\n\t\n\tvar RadioList = function (_React$Component) {\n\t  _inherits(RadioList, _React$Component);\n\t\n\t  function RadioList(props) {\n\t    _classCallCheck(this, RadioList);\n\t\n\t    var _this = _possibleConstructorReturn(this, (RadioList.__proto__ || Object.getPrototypeOf(RadioList)).call(this, props));\n\t\n\t    _this.state = { curVal: props.curVal };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(RadioList, [{\n\t    key: 'handleChange',\n\t    value: function handleChange(e) {\n\t      this.setState({ curVal: e.target.value === 'true' });\n\t      this.props.onChange(e.target.value);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var that = this;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'ctl-radio-list' },\n\t        this.props.data.map(function (item) {\n\t          return _react2.default.createElement(\n\t            'label',\n\t            { className: 'label', key: item.value },\n\t            _react2.default.createElement('input', { className: 'input', type: 'radio', name: that.props.name, value: item.value,\n\t              checked: _this2.state.curVal === item.value, onChange: function onChange(e) {\n\t                return that.handleChange(e);\n\t              } }),\n\t            item.label\n\t          );\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return RadioList;\n\t}(_react2.default.Component);\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {};\n\t};\n\tvar mapDispatchToProps = {};\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(RadioList);\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar CONST = {\n\t  FORM: {\n\t    RADIO_LIST_DATA_VISIBILITY: [{ 'label': '私有', 'value': false }, { 'label': '公开', 'value': true }]\n\t  }\n\t};\n\t\n\tmodule.exports = CONST;\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(16)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".ctl-radio-list{line-height:32px}.ctl-radio-list .input{margin:0 6px 0 3px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 29:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(28);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(17)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./RadioList.css\", function() {\n\t\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./RadioList.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(8);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _reactRedux = __webpack_require__(11);\n\t\n\tvar _reactRouterDom = __webpack_require__(18);\n\t\n\tvar _mockjs = __webpack_require__(21);\n\t\n\tvar _mockjs2 = _interopRequireDefault(_mockjs);\n\t\n\tvar _utils = __webpack_require__(6);\n\t\n\tvar _RadioList = __webpack_require__(26);\n\t\n\tvar _RadioList2 = _interopRequireDefault(_RadioList);\n\t\n\tvar _UIConst = __webpack_require__(27);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// 模拟数据\n\tvar mockOrganization =  false ? function () {\n\t  return _mockjs2.default.mock({\n\t    name: '团队@CTITLE(5)',\n\t    description: '@CPARAGRAPH',\n\t    logo: '@URL',\n\t    ownerId: undefined,\n\t    members: []\n\t  });\n\t} : function () {\n\t  return {\n\t    name: '',\n\t    description: '',\n\t    logo: '',\n\t    ownerId: undefined,\n\t    members: []\n\t  };\n\t};\n\t\n\t// 展示组件\n\t// TODO 2.x 支持私有组织\n\t// TODO 2.x 支持转移组织\n\t\n\tvar OrganizationForm = function (_Component) {\n\t  _inherits(OrganizationForm, _Component);\n\t\n\t  function OrganizationForm(props) {\n\t    _classCallCheck(this, OrganizationForm);\n\t\n\t    var _this = _possibleConstructorReturn(this, (OrganizationForm.__proto__ || Object.getPrototypeOf(OrganizationForm)).call(this, props));\n\t\n\t    _initialiseProps.call(_this);\n\t\n\t    var organization = props.organization;\n\t\n\t    _this.state = organization ? Object.assign({}, organization, {\n\t      // members: organization.members.map(user => user.id).join(',')\n\t      members: organization.members.filter(function (user) {\n\t        return !!user;\n\t      }),\n\t      newOwner: organization.owner\n\t    }) : mockOrganization();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(OrganizationForm, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var rmodal = this.context.rmodal;\n\t      var auth = this.props.auth;\n\t\n\t      return _react2.default.createElement(\n\t        'section',\n\t        null,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'rmodal-header' },\n\t          _react2.default.createElement(\n\t            'span',\n\t            { className: 'rmodal-title' },\n\t            this.props.title\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _utils.RParsley,\n\t          { ref: function ref(rparsley) {\n\t              _this2.rparsley = rparsley;\n\t            } },\n\t          _react2.default.createElement(\n\t            'form',\n\t            { className: 'form-horizontal w600', onSubmit: this.handleSubmit },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'rmodal-body' },\n\t              this.state.id && _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row' },\n\t                _react2.default.createElement(\n\t                  'label',\n\t                  { className: 'col-sm-2 control-label' },\n\t                  '\\u62E5\\u6709\\u8005\\uFF1A'\n\t                ),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  this.state.owner && this.state.owner.id === auth.id ? _react2.default.createElement(_utils.MembersInput, { value: this.state.newOwner ? [this.state.newOwner] : [], limit: 1, onChange: function onChange(users) {\n\t                      return _this2.setState({ newOwner: users[0] });\n\t                    } }) : _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'pt7 pl9' },\n\t                    this.state.owner.fullname\n\t                  )\n\t                )\n\t              ),\n\t              _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row' },\n\t                _react2.default.createElement(\n\t                  'label',\n\t                  { className: 'col-sm-2 control-label' },\n\t                  '\\u6743\\u9650'\n\t                ),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  _react2.default.createElement(_RadioList2.default, { data: _UIConst.FORM.RADIO_LIST_DATA_VISIBILITY, curVal: this.state.visibility, name: 'visibility',\n\t                    onChange: function onChange(visibility) {\n\t                      return _this2.setState({ visibility: visibility });\n\t                    } })\n\t                )\n\t              ),\n\t              _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row' },\n\t                _react2.default.createElement(\n\t                  'label',\n\t                  { className: 'col-sm-2 control-label' },\n\t                  '\\u540D\\u79F0\\uFF1A'\n\t                ),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  _react2.default.createElement('input', { name: 'name', value: this.state.name, onChange: function onChange(e) {\n\t                      return _this2.setState({ name: e.target.value });\n\t                    }, className: 'form-control', placeholder: 'Name', spellCheck: 'false', autoFocus: 'true',\n\t                    required: true, 'data-parsley-trigger': 'change keyup', 'data-parsley-maxlength': '256' })\n\t                )\n\t              ),\n\t              _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row' },\n\t                _react2.default.createElement(\n\t                  'label',\n\t                  { className: 'col-sm-2 control-label' },\n\t                  '\\u7B80\\u4ECB\\uFF1A'\n\t                ),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  _react2.default.createElement(_utils.SmartTextarea, { name: 'description', value: this.state.description, onChange: function onChange(e) {\n\t                      return _this2.setState({ description: e.target.value });\n\t                    }, className: 'form-control', placeholder: 'Description', spellCheck: 'false', rows: '5',\n\t                    'data-parsley-trigger': 'change keyup', 'data-parsley-maxlength': '1024' })\n\t                )\n\t              ),\n\t              _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row' },\n\t                _react2.default.createElement(\n\t                  'label',\n\t                  { className: 'col-sm-2 control-label' },\n\t                  '\\u6210\\u5458\\uFF1A'\n\t                ),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  _react2.default.createElement(_utils.MembersInput, { value: this.state.members, onChange: function onChange(members) {\n\t                      return _this2.setState({ members: members });\n\t                    } })\n\t                )\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'rmodal-footer' },\n\t              _react2.default.createElement(\n\t                'div',\n\t                { className: 'form-group row mb0' },\n\t                _react2.default.createElement('label', { className: 'col-sm-2 control-label' }),\n\t                _react2.default.createElement(\n\t                  'div',\n\t                  { className: 'col-sm-10' },\n\t                  _react2.default.createElement(\n\t                    'button',\n\t                    { type: 'submit', className: 'btn btn-success w140 mr20' },\n\t                    '\\u63D0\\u4EA4'\n\t                  ),\n\t                  _react2.default.createElement(\n\t                    _reactRouterDom.Link,\n\t                    { to: '', onClick: function onClick(e) {\n\t                        e.preventDefault();rmodal.close();\n\t                      }, className: 'mr10' },\n\t                    '\\u53D6\\u6D88'\n\t                  )\n\t                )\n\t              )\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return OrganizationForm;\n\t}(_react.Component);\n\t\n\t// 容器组件\n\t\n\t\n\tOrganizationForm.contextTypes = {\n\t  rmodal: _propTypes2.default.object.isRequired,\n\t  onAddOrganization: _propTypes2.default.func.isRequired,\n\t  onUpdateOrganization: _propTypes2.default.func.isRequired\n\t};\n\tOrganizationForm.propTypes = {\n\t  auth: _propTypes2.default.object.isRequired,\n\t  organization: _propTypes2.default.object\n\t};\n\t\n\tvar _initialiseProps = function _initialiseProps() {\n\t  var _this3 = this;\n\t\n\t  this.handleSubmit = function (e) {\n\t    e.preventDefault();\n\t    var _context = _this3.context,\n\t        onAddOrganization = _context.onAddOrganization,\n\t        onUpdateOrganization = _context.onUpdateOrganization;\n\t\n\t    var onAddOrUpdateOrganization = _this3.state.id ? onUpdateOrganization : onAddOrganization;\n\t    var organization = Object.assign({}, _this3.state, {\n\t      // owner: auth.id, // 支持转移组织\n\t      memberIds: (_this3.state.members || []).map(function (user) {\n\t        return user.id;\n\t      })\n\t    });\n\t    var _state = _this3.state,\n\t        owner = _state.owner,\n\t        newOwner = _state.newOwner;\n\t\n\t    if (newOwner && newOwner.id !== owner.id) organization.ownerId = newOwner.id;\n\t    onAddOrUpdateOrganization(organization, function () {\n\t      var rmodal = _this3.context.rmodal;\n\t\n\t      if (rmodal) rmodal.resolve();\n\t    });\n\t    // √ 编辑团队可能会变更 creator 和 owner，同时在前端和后端修复，X 前端在 constructor 中修正，√ 后端过滤 creator 和 owner\n\t  };\n\t};\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    auth: state.auth\n\t  };\n\t};\n\tvar mapDispatchToProps = {};\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(OrganizationForm);\n\n/***/ },\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.PaginationWithLocation = exports.OrganizationListWithSpin = exports.SearchGroup = exports.OrganizationsTypeDropdown = exports.CreateButton = exports.mapDispatchToProps = exports.childContextTypes = exports.contextTypes = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.getChildContext = getChildContext;\n\texports.handleDelete = handleDelete;\n\texports.replaceLocation = replaceLocation;\n\texports.handleJoin = handleJoin;\n\texports.handleExit = handleExit;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _family = __webpack_require__(5);\n\t\n\tvar _utils = __webpack_require__(6);\n\t\n\tvar _OrganizationList = __webpack_require__(83);\n\t\n\tvar _OrganizationList2 = _interopRequireDefault(_OrganizationList);\n\t\n\tvar _OrganizationForm = __webpack_require__(51);\n\t\n\tvar _OrganizationForm2 = _interopRequireDefault(_OrganizationForm);\n\t\n\tvar _organization = __webpack_require__(50);\n\t\n\tvar _go = __webpack_require__(13);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar contextTypes = exports.contextTypes = {\n\t  store: _family.PropTypes.object\n\t};\n\t\n\tvar childContextTypes = exports.childContextTypes = {\n\t  history: _family.PropTypes.object,\n\t  location: _family.PropTypes.object,\n\t  match: _family.PropTypes.object,\n\t  onAddOrganization: _family.PropTypes.func,\n\t  onDeleteOrganization: _family.PropTypes.func,\n\t  onUpdateOrganization: _family.PropTypes.func,\n\t  auth: _family.PropTypes.object\n\t};\n\t\n\tfunction getChildContext() {\n\t  var _props = this.props,\n\t      history = _props.history,\n\t      location = _props.location,\n\t      match = _props.match,\n\t      onAddOrganization = _props.onAddOrganization,\n\t      onDeleteOrganization = _props.onDeleteOrganization,\n\t      onUpdateOrganization = _props.onUpdateOrganization,\n\t      auth = _props.auth;\n\t\n\t  return { history: history, location: location, match: match, onAddOrganization: onAddOrganization, onDeleteOrganization: onDeleteOrganization, onUpdateOrganization: onUpdateOrganization, auth: auth };\n\t}\n\t\n\tvar mapDispatchToProps = exports.mapDispatchToProps = {\n\t  onAddOrganization: _organization.addOrganization,\n\t  onDeleteOrganization: _organization.deleteOrganization,\n\t  onUpdateOrganization: _organization.updateOrganization\n\t};\n\t\n\tvar CreateButton = exports.CreateButton = function (_Component) {\n\t  _inherits(CreateButton, _Component);\n\t\n\t  function CreateButton(props) {\n\t    _classCallCheck(this, CreateButton);\n\t\n\t    var _this = _possibleConstructorReturn(this, (CreateButton.__proto__ || Object.getPrototypeOf(CreateButton)).call(this, props));\n\t\n\t    _this.handleUpdate = function (e) {\n\t      var store = _this.context.store;\n\t\n\t      var uri = (0, _family.StoreStateRouterLocationURI)(store);\n\t      store.dispatch((0, _family.replace)(uri.href()));\n\t    };\n\t\n\t    _this.state = { create: false };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(CreateButton, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      return _react2.default.createElement(\n\t        'span',\n\t        { className: 'float-right ml10' },\n\t        _react2.default.createElement(\n\t          'button',\n\t          { className: 'OrganizationCreateButton btn btn-success', onClick: function onClick(e) {\n\t              return _this2.setState({ create: true });\n\t            } },\n\t          _react2.default.createElement(_go.GoOrganization, null),\n\t          ' \\u65B0\\u5EFA\\u56E2\\u961F'\n\t        ),\n\t        this.state.create && _react2.default.createElement(\n\t          _utils.RModal,\n\t          { when: this.state.create, onClose: function onClose(e) {\n\t              return _this2.setState({ create: false });\n\t            }, onResolve: this.handleUpdate },\n\t          _react2.default.createElement(_OrganizationForm2.default, { title: '\\u65B0\\u5EFA\\u56E2\\u961F' })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return CreateButton;\n\t}(_react.Component);\n\t\n\t// TODO 2.2 <select> => <Dropdown>\n\t\n\t\n\tCreateButton.contextTypes = {\n\t  store: _family.PropTypes.object.isRequired\n\t};\n\t\n\tvar OrganizationsTypeDropdown = exports.OrganizationsTypeDropdown = function (_Component2) {\n\t  _inherits(OrganizationsTypeDropdown, _Component2);\n\t\n\t  function OrganizationsTypeDropdown() {\n\t    var _ref;\n\t\n\t    var _temp, _this3, _ret;\n\t\n\t    _classCallCheck(this, OrganizationsTypeDropdown);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = OrganizationsTypeDropdown.__proto__ || Object.getPrototypeOf(OrganizationsTypeDropdown)).call.apply(_ref, [this].concat(args))), _this3), _this3.handlePush = function (url) {\n\t      var store = _this3.context.store;\n\t\n\t      store.dispatch((0, _family.push)(url));\n\t      // let uri = StoreStateRouterLocationURI(store)\n\t      // store.dispatch(replace(uri.href()))\n\t    }, _temp), _possibleConstructorReturn(_this3, _ret);\n\t  }\n\t\n\t  _createClass(OrganizationsTypeDropdown, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      var url = this.props.url;\n\t\n\t      return _react2.default.createElement(\n\t        'select',\n\t        { className: 'OrganizationsTypeDropdown form-control float-left w160 mr12', value: url, onChange: function onChange(e) {\n\t            return _this4.handlePush(e.target.value);\n\t          }, size: '1' },\n\t        _react2.default.createElement(\n\t          'option',\n\t          { value: '/organization/joined' },\n\t          '\\u6211\\u62E5\\u6709\\u548C\\u52A0\\u5165\\u7684\\u56E2\\u961F'\n\t        ),\n\t        _react2.default.createElement(\n\t          'option',\n\t          { value: '/organization/all' },\n\t          '\\u5168\\u90E8\\u56E2\\u961F'\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return OrganizationsTypeDropdown;\n\t}(_react.Component);\n\t\n\tOrganizationsTypeDropdown.contextTypes = {\n\t  store: _family.PropTypes.object.isRequired\n\t};\n\t\n\tvar SearchGroup = exports.SearchGroup = function (_Component3) {\n\t  _inherits(SearchGroup, _Component3);\n\t\n\t  function SearchGroup(props) {\n\t    _classCallCheck(this, SearchGroup);\n\t\n\t    var _this5 = _possibleConstructorReturn(this, (SearchGroup.__proto__ || Object.getPrototypeOf(SearchGroup)).call(this, props));\n\t\n\t    _this5.handleSearch = function () {\n\t      var store = _this5.context.store;\n\t      var _store$getState$route = store.getState().router.location,\n\t          pathname = _store$getState$route.pathname,\n\t          hash = _store$getState$route.hash,\n\t          search = _store$getState$route.search;\n\t\n\t      var uri = (0, _family.URI)(pathname + hash + search).removeSearch('cursor');\n\t      _this5.state.name ? uri.setSearch('name', _this5.state.name) : uri.removeSearch('name');\n\t      store.dispatch((0, _family.push)(uri.href()));\n\t    };\n\t\n\t    _this5.state = { name: props.name || '' };\n\t    return _this5;\n\t  }\n\t\n\t  _createClass(SearchGroup, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this6 = this;\n\t\n\t      // <div className='input-group float-right w280'>\n\t      //   <input type='text' value={this.state.name} className='form-control' placeholder='团队名称或 ID' autoComplete='off'\n\t      //     onChange={e => this.setState({ name: e.target.value.trim() })}\n\t      //     onKeyUp={e => e.which === 13 && this.handleSearch()} />\n\t      //   <span className='btn input-group-addon' onClick={this.handleSearch}><span className=''>&#xe60b;</span></span>\n\t      // </div>\n\t      return _react2.default.createElement('input', { type: 'text', value: this.state.name, className: 'form-control float-left w280', placeholder: '\\u641C\\u7D22\\u56E2\\u961F\\uFF1A\\u8F93\\u5165\\u540D\\u79F0\\u6216 ID', autoComplete: 'off',\n\t        onChange: function onChange(e) {\n\t          return _this6.setState({ name: e.target.value.trim() });\n\t        },\n\t        onKeyUp: function onKeyUp(e) {\n\t          return e.which === 13 && _this6.handleSearch();\n\t        },\n\t        ref: function ref($input) {\n\t          _this6.$input = $input;\n\t        } });\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      if (this.state.name) {\n\t        this.$input.focus();\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return SearchGroup;\n\t}(_react.Component);\n\t\n\t// DONE 把控制钱从 Dialog 移动到 Component 中！\n\t// DONE 2.1 通常应该用 replaceLocation\n\t// DONE 2.1 删除确认\n\t\n\t\n\tSearchGroup.contextTypes = {\n\t  store: _family.PropTypes.object\n\t};\n\tfunction handleDelete(e, organization) {\n\t  var _this7 = this;\n\t\n\t  e.preventDefault();\n\t  var message = '\\u56E2\\u961F\\u88AB\\u5220\\u9664\\u540E\\u4E0D\\u53EF\\u6062\\u590D\\uFF01\\n\\u786E\\u8BA4\\u7EE7\\u7EED\\u5220\\u9664\\u300E#' + organization.id + ' ' + organization.name + '\\u300F\\u5417\\uFF1F';\n\t  if (!window.confirm(message)) return;\n\t  var onDeleteOrganization = this.context.onDeleteOrganization;\n\t\n\t  onDeleteOrganization(organization.id, function () {\n\t    _this7.replaceLocation();\n\t  });\n\t}\n\t\n\t// DONE 重构表之间的对应关系，分为多张表。否则每次更新成员都会导致当前团队排到第一位！待测试。\n\tfunction replaceLocation() {\n\t  var store = this.context.store;\n\t\n\t  var uri = (0, _family.StoreStateRouterLocationURI)(store);\n\t  store.dispatch((0, _family.replace)(uri.href()));\n\t}\n\t\n\tfunction handleJoin(e, organization) {\n\t  var _this8 = this;\n\t\n\t  e.preventDefault();\n\t  var _context = this.context,\n\t      auth = _context.auth,\n\t      onUpdateOrganization = _context.onUpdateOrganization;\n\t\n\t  var next = {\n\t    id: organization.id,\n\t    memberIds: [].concat(_toConsumableArray(organization.members.map(function (user) {\n\t      return user.id;\n\t    })), [auth.id])\n\t  };\n\t  onUpdateOrganization(next, function () {\n\t    _this8.replaceLocation();\n\t  });\n\t}\n\t\n\tfunction handleExit(e, organization) {\n\t  var _this9 = this;\n\t\n\t  e.preventDefault();\n\t  var message = '\\u786E\\u8BA4\\u7EE7\\u7EED\\u9000\\u51FA\\u300E#' + organization.id + ' ' + organization.name + '\\u300F\\u5417\\uFF1F';\n\t  if (!window.confirm(message)) return;\n\t  var _context2 = this.context,\n\t      auth = _context2.auth,\n\t      onUpdateOrganization = _context2.onUpdateOrganization;\n\t\n\t  var next = {\n\t    id: organization.id,\n\t    memberIds: organization.members.filter(function (user) {\n\t      return user.id !== auth.id;\n\t    }).map(function (user) {\n\t      return user.id;\n\t    })\n\t  };\n\t  onUpdateOrganization(next, function () {\n\t    _this9.replaceLocation();\n\t  });\n\t}\n\t\n\tvar OrganizationListWithSpin = exports.OrganizationListWithSpin = function OrganizationListWithSpin(_ref2) {\n\t  var name = _ref2.name,\n\t      organizations = _ref2.organizations;\n\t  return organizations.fetching ? _react2.default.createElement(_utils.Spin, null) : _react2.default.createElement(_OrganizationList2.default, { name: name, organizations: organizations.data });\n\t};\n\t\n\tvar PaginationWithLocation = exports.PaginationWithLocation = function (_Component4) {\n\t  _inherits(PaginationWithLocation, _Component4);\n\t\n\t  function PaginationWithLocation() {\n\t    _classCallCheck(this, PaginationWithLocation);\n\t\n\t    return _possibleConstructorReturn(this, (PaginationWithLocation.__proto__ || Object.getPrototypeOf(PaginationWithLocation)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(PaginationWithLocation, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var calculated = this.props.calculated;\n\t      var location = this.context.location;\n\t\n\t      return _react2.default.createElement(_utils.Pagination, { location: location, calculated: calculated });\n\t    }\n\t  }]);\n\t\n\t  return PaginationWithLocation;\n\t}(_react.Component);\n\t\n\tPaginationWithLocation.contextTypes = {\n\t  location: _family.PropTypes.object\n\t};\n\n/***/ },\n\n/***/ 82:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(11);\n\t\n\tvar _propTypes = __webpack_require__(8);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _reactRouterDom = __webpack_require__(18);\n\t\n\tvar _OrganizationListParts = __webpack_require__(52);\n\t\n\tvar _utils = __webpack_require__(6);\n\t\n\tvar _OrganizationForm = __webpack_require__(51);\n\t\n\tvar _OrganizationForm2 = _interopRequireDefault(_OrganizationForm);\n\t\n\tvar _go = __webpack_require__(13);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t// import { Random } from 'mockjs'\n\t\n\t// 展示组件\n\tvar Organization = function (_Component) {\n\t  _inherits(Organization, _Component);\n\t\n\t  function Organization(props) {\n\t    _classCallCheck(this, Organization);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Organization.__proto__ || Object.getPrototypeOf(Organization)).call(this, props));\n\t\n\t    _this.replaceLocation = _OrganizationListParts.replaceLocation;\n\t    _this.handleUpdate = _OrganizationListParts.replaceLocation;\n\t    _this.handleDelete = _OrganizationListParts.handleDelete;\n\t    _this.handleJoin = _OrganizationListParts.handleJoin;\n\t    _this.handleExit = _OrganizationListParts.handleExit;\n\t\n\t    _this.state = { update: false };\n\t    return _this;\n\t  }\n\t  // DONE 2.2 退出确认\n\t\n\t\n\t  _createClass(Organization, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var auth = this.context.auth;\n\t      var organization = this.props.organization;\n\t\n\t      var owned = organization.owner.id === auth.id;\n\t      var joined = organization.members.find(function (user) {\n\t        return user.id === auth.id;\n\t      });\n\t      var selfHelpJoin = false; // DONE 2.1 不允许自助加入团队\n\t      return _react2.default.createElement(\n\t        'section',\n\t        { className: 'Organization card' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'card-block' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'header clearfix' },\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: 'title' },\n\t              _react2.default.createElement(_go.GoOrganization, { className: 'mr6 color-9' }),\n\t              _react2.default.createElement(\n\t                _reactRouterDom.Link,\n\t                { to: '/organization/repository?organization=' + organization.id },\n\t                organization.name\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'span',\n\t              { className: 'toolbar' },\n\t              owned || joined ? // 拥有或已加入\n\t              _react2.default.createElement(\n\t                'span',\n\t                { className: 'fake-link operation mr5', onClick: function onClick(e) {\n\t                    return _this2.setState({ update: true });\n\t                  } },\n\t                '\\u7F16\\u8F91'\n\t              ) : null,\n\t              this.state.update && _react2.default.createElement(\n\t                _utils.RModal,\n\t                { when: this.state.update, onClose: function onClose(e) {\n\t                    return _this2.setState({ update: false });\n\t                  }, onResolve: function onResolve(e) {\n\t                    return _this2.handleUpdate();\n\t                  } },\n\t                _react2.default.createElement(_OrganizationForm2.default, { title: '\\u7F16\\u8F91\\u56E2\\u961F #' + organization.id, organization: organization })\n\t              ),\n\t              owned ? // 拥有\n\t              _react2.default.createElement(\n\t                _reactRouterDom.Link,\n\t                { to: '', onClick: function onClick(e) {\n\t                    return _this2.handleDelete(e, organization);\n\t                  }, className: 'operation mr5' },\n\t                '\\u5220\\u9664'\n\t              ) : null,\n\t              !owned && joined ? // 不拥有，已加入\n\t              _react2.default.createElement(\n\t                _reactRouterDom.Link,\n\t                { to: '', onClick: function onClick(e) {\n\t                    return _this2.handleExit(e, organization);\n\t                  }, className: 'operation mr5' },\n\t                '\\u9000\\u51FA'\n\t              ) : null,\n\t              !owned && !joined && selfHelpJoin ? // 不拥有，未加入\n\t              _react2.default.createElement(\n\t                _reactRouterDom.Link,\n\t                { to: '', onClick: function onClick(e) {\n\t                    return _this2.handleJoin(e, organization);\n\t                  }, className: 'operation mr5' },\n\t                '\\u52A0\\u5165'\n\t              ) : null\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'body' },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'desc' },\n\t              organization.description\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'members' },\n\t              _react2.default.createElement(\n\t                _utils.Popover,\n\t                { content: organization.owner.fullname + ' ' + organization.owner.id },\n\t                _react2.default.createElement('img', { alt: organization.owner.fullname, src: Organization.avatar(organization.owner), className: 'avatar owner' })\n\t              ),\n\t              organization.members.map(function (user) {\n\t                return _react2.default.createElement(\n\t                  _utils.Popover,\n\t                  { key: user.id, content: user.fullname + ' ' + user.id },\n\t                  _react2.default.createElement('img', { alt: user.fullname, title: user.fullname, src: Organization.avatar(user), className: 'avatar' })\n\t                );\n\t              })\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }], [{\n\t    key: 'avatar',\n\t    value: function avatar(user) {\n\t      // return Random.dataImage('30x30', user.fullname[0].toUpperCase())\n\t      // DONE 2.1 成员列表参考 ProductHunt\n\t      // DONE 2.1 测试环境总会会请求到 BOSS 们的头像。。。\n\t      // process.env.NODE_ENV === 'development' ? ... : ...\n\t      return 'https://work.alibaba-inc.com/photo/' + user.empId + '.220x220.jpg';\n\t    }\n\t  }]);\n\t\n\t  return Organization;\n\t}(_react.Component);\n\t\n\t// 容器组件\n\t\n\t\n\tOrganization.contextTypes = {\n\t  store: _propTypes2.default.object,\n\t  onAddOrganization: _propTypes2.default.func,\n\t  onDeleteOrganization: _propTypes2.default.func,\n\t  onUpdateOrganization: _propTypes2.default.func,\n\t  auth: _propTypes2.default.object\n\t};\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {};\n\t};\n\tvar mapDispatchToProps = {};\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Organization);\n\n/***/ },\n\n/***/ 83:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _family = __webpack_require__(5);\n\t\n\tvar _Organization = __webpack_require__(82);\n\t\n\tvar _Organization2 = _interopRequireDefault(_Organization);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// 展示组件\n\tvar OrganizationList = function (_Component) {\n\t  _inherits(OrganizationList, _Component);\n\t\n\t  function OrganizationList() {\n\t    _classCallCheck(this, OrganizationList);\n\t\n\t    return _possibleConstructorReturn(this, (OrganizationList.__proto__ || Object.getPrototypeOf(OrganizationList)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(OrganizationList, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _props = this.props,\n\t          name = _props.name,\n\t          organizations = _props.organizations;\n\t\n\t      if (!organizations.length) {\n\t        return name ? _react2.default.createElement(\n\t          'div',\n\t          { className: 'fontsize-14 text-center p40' },\n\t          '\\u6CA1\\u6709\\u627E\\u5230\\u5339\\u914D ',\n\t          _react2.default.createElement(\n\t            'strong',\n\t            null,\n\t            name\n\t          ),\n\t          ' \\u7684\\u56E2\\u961F\\u3002'\n\t        ) : _react2.default.createElement(\n\t          'div',\n\t          { className: 'fontsize-14 text-center p40' },\n\t          '\\u6CA1\\u6709\\u6570\\u636E\\u3002'\n\t        );\n\t      }\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'OrganizationList' },\n\t        organizations.map(function (organization) {\n\t          return _react2.default.createElement(_Organization2.default, { key: organization.id, organization: organization });\n\t        })\n\t      );\n\t    }\n\t    // DONE 2.1 补全 propTypes\n\t\n\t  }]);\n\t\n\t  return OrganizationList;\n\t}(_react.Component);\n\t\n\t// 容器组件\n\t\n\t\n\tOrganizationList.propTypes = {\n\t  name: _family.PropTypes.string,\n\t  organizations: _family.PropTypes.array.isRequired\n\t};\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {};\n\t};\n\tvar mapDispatchToProps = {};\n\texports.default = (0, _family.connect)(mapStateToProps, mapDispatchToProps)(OrganizationList);\n\n/***/ },\n\n/***/ 87:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(16)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".OrganizationListWrapper{padding:2rem}.OrganizationListWrapper>.header{margin-bottom:2rem}.OrganizationListWrapper>.header .title{font-size:2rem}.OrganizationListWrapper>.toolbar{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #e1e4e8}.OrganizationListWrapper>.toolbar select.OrganizationsTypeDropdown{margin-right:.5rem;font-size:1.4rem}.OrganizationListWrapper>.toolbar button.OrganizationCreateButton{padding:.4rem 1rem;font-size:1.4rem}.OrganizationListWrapper>.toolbar .form-control{margin-bottom:0}.OrganizationListWrapper .OrganizationList .Organization.card{margin-bottom:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.header .title{margin-bottom:.5rem;font-size:1.4rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.header .toolbar{float:right;display:none;margin-left:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .desc{margin-bottom:.5rem;color:#666}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .avatar{margin-right:.2rem;width:2.5rem;height:2.5rem;border-radius:50%}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .avatar.owner{margin-right:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .popover{white-space:nowrap}.OrganizationListWrapper .OrganizationList .Organization.card .card-block:hover>.header .toolbar{display:inline-block}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 88:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(87);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(17)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./Organization.css\", function() {\n\t\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./Organization.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 334:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(11);\n\t\n\tvar _OrganizationListParts = __webpack_require__(52);\n\t\n\tvar _lodash = __webpack_require__(63);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _moment = __webpack_require__(3);\n\t\n\tvar _moment2 = _interopRequireDefault(_moment);\n\t\n\t__webpack_require__(88);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// 我拥有和加入的团队\n\tvar JoinedOrganizationList = function (_Component) {\n\t  _inherits(JoinedOrganizationList, _Component);\n\t\n\t  function JoinedOrganizationList() {\n\t    var _ref;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, JoinedOrganizationList);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = JoinedOrganizationList.__proto__ || Object.getPrototypeOf(JoinedOrganizationList)).call.apply(_ref, [this].concat(args))), _this), _this.getChildContext = _OrganizationListParts.getChildContext, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  _createClass(JoinedOrganizationList, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _props = this.props,\n\t          location = _props.location,\n\t          match = _props.match,\n\t          organizations = _props.organizations;\n\t\n\t      return _react2.default.createElement(\n\t        'section',\n\t        { className: 'OrganizationListWrapper' },\n\t        _react2.default.createElement(\n\t          'nav',\n\t          { className: 'toolbar clearfix' },\n\t          _react2.default.createElement(_OrganizationListParts.OrganizationsTypeDropdown, { url: match.url }),\n\t          _react2.default.createElement(_OrganizationListParts.SearchGroup, { name: location.params.name }),\n\t          _react2.default.createElement(_OrganizationListParts.CreateButton, null)\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'body' },\n\t          _react2.default.createElement(_OrganizationListParts.OrganizationListWithSpin, { name: location.params.name, organizations: organizations })\n\t        ),\n\t        _react2.default.createElement('div', { className: 'footer' })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return JoinedOrganizationList;\n\t}(_react.Component);\n\t\n\tJoinedOrganizationList.contextTypes = _OrganizationListParts.contextTypes;\n\tJoinedOrganizationList.childContextTypes = _OrganizationListParts.childContextTypes;\n\t\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t  return {\n\t    auth: state.auth,\n\t    joiner: state.auth,\n\t    organizations: {\n\t      fetching: state.ownedOrganizations.fetching || state.joinedOrganizations.fetching,\n\t      data: _lodash2.default.uniqBy([].concat(_toConsumableArray(state.ownedOrganizations.data), _toConsumableArray(state.joinedOrganizations.data)), 'id').sort(function (a, b) {\n\t        return (0, _moment2.default)(b.updatedAt).diff(a.updatedAt);\n\t      })\n\t    }\n\t  };\n\t};\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, _OrganizationListParts.mapDispatchToProps)(JoinedOrganizationList);\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.44d9957c.chunk.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport './RadioList.css'\r\n\r\n/**\r\n *\r\n * @param {*} props  { label : [String], value : [String] }\r\n */\r\n\r\nclass RadioList extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = { curVal: props.curVal }\r\n  }\r\n\r\n  handleChange (e) {\r\n    this.setState({ curVal: e.target.value === 'true' })\r\n    this.props.onChange(e.target.value)\r\n  }\r\n\r\n  render () {\r\n    let that = this\r\n    return (\r\n      <div className='ctl-radio-list'>\r\n        {\r\n          this.props.data.map(item =>\r\n            <label className='label' key={item.value}>\r\n              <input className='input'type='radio' name={that.props.name} value={item.value}\r\n                checked={this.state.curVal === item.value} onChange={e => that.handleChange(e)} />\r\n              {item.label}\r\n            </label>)\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({})\r\nconst mapDispatchToProps = ({})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RadioList)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/utils/RadioList.jsx","const CONST = {\r\n  FORM: {\r\n    RADIO_LIST_DATA_VISIBILITY: [\r\n      { 'label': '私有', 'value': false },\r\n      { 'label': '公开', 'value': true }\r\n    ]\r\n  }\r\n}\r\n\r\nmodule.exports = CONST\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/family/UIConst.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".ctl-radio-list{line-height:32px}.ctl-radio-list .input{margin:0 6px 0 3px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?importLoaders=1!./~/postcss-loader!./src/components/utils/RadioList.css\n// module id = 28\n// module chunks = 0 2 4 5 6 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./RadioList.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./RadioList.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./RadioList.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/utils/RadioList.css\n// module id = 29\n// module chunks = 0 2 4 5 6 7","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Mock from 'mockjs'\r\nimport { SmartTextarea, MembersInput, RParsley } from '../utils'\r\nimport RadioList from '../utils/RadioList'\r\nimport { FORM } from '../../family/UIConst'\r\n\r\n// 模拟数据\r\nconst mockOrganization = process.env.NODE_ENV === 'development'\r\n  ? () => Mock.mock({\r\n    name: '团队@CTITLE(5)',\r\n    description: '@CPARAGRAPH',\r\n    logo: '@URL',\r\n    ownerId: undefined,\r\n    members: []\r\n  })\r\n  : () => ({\r\n    name: '',\r\n    description: '',\r\n    logo: '',\r\n    ownerId: undefined,\r\n    members: []\r\n  })\r\n\r\n// 展示组件\r\n// TODO 2.x 支持私有组织\r\n// TODO 2.x 支持转移组织\r\nclass OrganizationForm extends Component {\r\n  static contextTypes = {\r\n    rmodal: PropTypes.object.isRequired,\r\n    onAddOrganization: PropTypes.func.isRequired,\r\n    onUpdateOrganization: PropTypes.func.isRequired\r\n  }\r\n  static propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    organization: PropTypes.object\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    let { organization } = props\r\n    this.state = organization ? {\r\n      ...organization,\r\n      // members: organization.members.map(user => user.id).join(',')\r\n      members: organization.members.filter(user => !!user),\r\n      newOwner: organization.owner\r\n    } : mockOrganization()\r\n  }\r\n  render () {\r\n    const { rmodal } = this.context\r\n    let { auth } = this.props\r\n    return (\r\n      <section>\r\n        <div className='rmodal-header'>\r\n          <span className='rmodal-title'>{this.props.title}</span>\r\n        </div>\r\n        <RParsley ref={rparsley => { this.rparsley = rparsley }}>\r\n          <form className='form-horizontal w600' onSubmit={this.handleSubmit} >\r\n            <div className='rmodal-body'>\r\n              {this.state.id &&\r\n                <div className='form-group row'>\r\n                  <label className='col-sm-2 control-label'>拥有者：</label>\r\n                  <div className='col-sm-10'>\r\n                    {this.state.owner && (this.state.owner.id === auth.id)\r\n                      ? <MembersInput value={this.state.newOwner ? [this.state.newOwner] : []} limit={1} onChange={users => this.setState({ newOwner: users[0] })} />\r\n                      : <div className='pt7 pl9'>{this.state.owner.fullname}</div>\r\n                    }\r\n                  </div>\r\n                </div>\r\n              }\r\n              <div className='form-group row'>\r\n                <label className='col-sm-2 control-label'>权限</label>\r\n                <div className='col-sm-10'>\r\n                  <RadioList data={FORM.RADIO_LIST_DATA_VISIBILITY} curVal={this.state.visibility} name='visibility'\r\n                    onChange={visibility => this.setState({ visibility })} />\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <label className='col-sm-2 control-label'>名称：</label>\r\n                <div className='col-sm-10'>\r\n                  <input name='name' value={this.state.name} onChange={e => this.setState({ name: e.target.value })} className='form-control' placeholder='Name' spellCheck='false' autoFocus='true'\r\n                    required data-parsley-trigger='change keyup' data-parsley-maxlength='256' />\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <label className='col-sm-2 control-label'>简介：</label>\r\n                <div className='col-sm-10'>\r\n                  <SmartTextarea name='description' value={this.state.description} onChange={e => this.setState({ description: e.target.value })} className='form-control' placeholder='Description' spellCheck='false' rows='5'\r\n                    data-parsley-trigger='change keyup' data-parsley-maxlength='1024' />\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <label className='col-sm-2 control-label'>成员：</label>\r\n                <div className='col-sm-10'>\r\n                  <MembersInput value={this.state.members} onChange={members => this.setState({ members })} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='rmodal-footer'>\r\n              <div className='form-group row mb0'>\r\n                <label className='col-sm-2 control-label' />\r\n                <div className='col-sm-10'>\r\n                  <button type='submit' className='btn btn-success w140 mr20'>提交</button>\r\n                  <Link to='' onClick={e => { e.preventDefault(); rmodal.close() }} className='mr10'>取消</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </RParsley>\r\n      </section>\r\n    )\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    let { onAddOrganization, onUpdateOrganization } = this.context\r\n    let onAddOrUpdateOrganization = this.state.id ? onUpdateOrganization : onAddOrganization\r\n    let organization = {\r\n      ...this.state,\r\n      // owner: auth.id, // 支持转移组织\r\n      memberIds: (this.state.members || []).map(user => user.id)\r\n    }\r\n    let { owner, newOwner } = this.state\r\n    if (newOwner && newOwner.id !== owner.id) organization.ownerId = newOwner.id\r\n    onAddOrUpdateOrganization(organization, () => {\r\n      let { rmodal } = this.context\r\n      if (rmodal) rmodal.resolve()\r\n    })\r\n    // √ 编辑团队可能会变更 creator 和 owner，同时在前端和后端修复，X 前端在 constructor 中修正，√ 后端过滤 creator 和 owner\r\n  }\r\n}\r\n\r\n// 容器组件\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n})\r\nconst mapDispatchToProps = ({})\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(OrganizationForm)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/organization/OrganizationForm.jsx","import React, { Component } from 'react'\r\nimport { PropTypes, push, replace, URI, StoreStateRouterLocationURI } from '../../family'\r\nimport { Spin, RModal, Pagination } from '../utils'\r\n\r\nimport OrganizationList from './OrganizationList'\r\nimport OrganizationForm from './OrganizationForm'\r\nimport { addOrganization, deleteOrganization, updateOrganization } from '../../actions/organization'\r\n\r\nimport { GoOrganization } from 'react-icons/lib/go'\r\n\r\nexport const contextTypes = {\r\n  store: PropTypes.object\r\n}\r\n\r\nexport const childContextTypes = {\r\n  history: PropTypes.object,\r\n  location: PropTypes.object,\r\n  match: PropTypes.object,\r\n  onAddOrganization: PropTypes.func,\r\n  onDeleteOrganization: PropTypes.func,\r\n  onUpdateOrganization: PropTypes.func,\r\n  auth: PropTypes.object\r\n}\r\n\r\nexport function getChildContext () {\r\n  let { history, location, match, onAddOrganization, onDeleteOrganization, onUpdateOrganization, auth } = this.props\r\n  return { history, location, match, onAddOrganization, onDeleteOrganization, onUpdateOrganization, auth }\r\n}\r\n\r\nexport const mapDispatchToProps = ({\r\n  onAddOrganization: addOrganization,\r\n  onDeleteOrganization: deleteOrganization,\r\n  onUpdateOrganization: updateOrganization\r\n})\r\n\r\nexport class CreateButton extends Component {\r\n  static contextTypes = {\r\n    store: PropTypes.object.isRequired\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = { create: false }\r\n  }\r\n  render () {\r\n    return (\r\n      <span className='float-right ml10'>\r\n        <button className='OrganizationCreateButton btn btn-success' onClick={e => this.setState({ create: true })}>\r\n          <GoOrganization /> 新建团队\r\n        </button>\r\n        {this.state.create && (\r\n          <RModal when={this.state.create} onClose={e => this.setState({ create: false })} onResolve={this.handleUpdate}>\r\n            <OrganizationForm title='新建团队' />\r\n          </RModal>\r\n        )}\r\n      </span>\r\n    )\r\n  }\r\n  handleUpdate = (e) => {\r\n    let { store } = this.context\r\n    let uri = StoreStateRouterLocationURI(store)\r\n    store.dispatch(replace(uri.href()))\r\n  }\r\n}\r\n\r\n// TODO 2.2 <select> => <Dropdown>\r\nexport class OrganizationsTypeDropdown extends Component {\r\n  static contextTypes = {\r\n    store: PropTypes.object.isRequired\r\n  }\r\n  render () {\r\n    let { url } = this.props\r\n    return (\r\n      <select className='OrganizationsTypeDropdown form-control float-left w160 mr12' value={url} onChange={e => this.handlePush(e.target.value)} size='1'>\r\n        <option value='/organization/joined'>我拥有和加入的团队</option>\r\n        <option value='/organization/all'>全部团队</option>\r\n      </select>\r\n    )\r\n  }\r\n  handlePush = (url) => {\r\n    let { store } = this.context\r\n    store.dispatch(push(url))\r\n    // let uri = StoreStateRouterLocationURI(store)\r\n    // store.dispatch(replace(uri.href()))\r\n  }\r\n}\r\n\r\nexport class SearchGroup extends Component {\r\n  static contextTypes = {\r\n    store: PropTypes.object\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = { name: props.name || '' }\r\n  }\r\n  render () {\r\n    // <div className='input-group float-right w280'>\r\n    //   <input type='text' value={this.state.name} className='form-control' placeholder='团队名称或 ID' autoComplete='off'\r\n    //     onChange={e => this.setState({ name: e.target.value.trim() })}\r\n    //     onKeyUp={e => e.which === 13 && this.handleSearch()} />\r\n    //   <span className='btn input-group-addon' onClick={this.handleSearch}><span className=''>&#xe60b;</span></span>\r\n    // </div>\r\n    return (\r\n      <input type='text' value={this.state.name} className='form-control float-left w280' placeholder='搜索团队：输入名称或 ID' autoComplete='off'\r\n        onChange={e => this.setState({ name: e.target.value.trim() })}\r\n        onKeyUp={e => e.which === 13 && this.handleSearch()}\r\n        ref={$input => { this.$input = $input }} />\r\n    )\r\n  }\r\n  componentDidMount () {\r\n    if (this.state.name) {\r\n      this.$input.focus()\r\n    }\r\n  }\r\n  handleSearch = () => {\r\n    let { store } = this.context\r\n    let { pathname, hash, search } = store.getState().router.location\r\n    let uri = URI(pathname + hash + search).removeSearch('cursor')\r\n    this.state.name ? uri.setSearch('name', this.state.name) : uri.removeSearch('name')\r\n    store.dispatch(push(uri.href()))\r\n  }\r\n}\r\n\r\n// DONE 把控制钱从 Dialog 移动到 Component 中！\r\n// DONE 2.1 通常应该用 replaceLocation\r\n// DONE 2.1 删除确认\r\nexport function handleDelete (e, organization) {\r\n  e.preventDefault()\r\n  let message = `团队被删除后不可恢复！\\n确认继续删除『#${organization.id} ${organization.name}』吗？`\r\n  if (!window.confirm(message)) return\r\n  let { onDeleteOrganization } = this.context\r\n  onDeleteOrganization(organization.id, () => {\r\n    this.replaceLocation()\r\n  })\r\n}\r\n\r\n// DONE 重构表之间的对应关系，分为多张表。否则每次更新成员都会导致当前团队排到第一位！待测试。\r\nexport function replaceLocation () {\r\n  let { store } = this.context\r\n  let uri = StoreStateRouterLocationURI(store)\r\n  store.dispatch(replace(uri.href()))\r\n}\r\n\r\nexport function handleJoin (e, organization) {\r\n  e.preventDefault()\r\n  let { auth, onUpdateOrganization } = this.context\r\n  let next = {\r\n    id: organization.id,\r\n    memberIds: [...organization.members.map(user => user.id), auth.id]\r\n  }\r\n  onUpdateOrganization(next, () => {\r\n    this.replaceLocation()\r\n  })\r\n}\r\n\r\nexport function handleExit (e, organization) {\r\n  e.preventDefault()\r\n  let message = `确认继续退出『#${organization.id} ${organization.name}』吗？`\r\n  if (!window.confirm(message)) return\r\n  let { auth, onUpdateOrganization } = this.context\r\n  let next = {\r\n    id: organization.id,\r\n    memberIds: organization.members.filter(user => user.id !== auth.id).map(user => user.id)\r\n  }\r\n  onUpdateOrganization(next, () => {\r\n    this.replaceLocation()\r\n  })\r\n}\r\n\r\nexport const OrganizationListWithSpin = ({ name, organizations }) => (\r\n  organizations.fetching\r\n    ? <Spin />\r\n    : <OrganizationList name={name} organizations={organizations.data} />\r\n)\r\n\r\nexport class PaginationWithLocation extends Component {\r\n  static contextTypes = {\r\n    location: PropTypes.object\r\n  }\r\n  render () {\r\n    let { calculated } = this.props\r\n    let { location } = this.context\r\n    return <Pagination location={location} calculated={calculated} />\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/organization/OrganizationListParts.jsx","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\n// import { Random } from 'mockjs'\r\n\r\nimport { replaceLocation, handleDelete, handleJoin, handleExit } from './OrganizationListParts'\r\nimport { Popover, RModal } from '../utils'\r\nimport OrganizationForm from './OrganizationForm'\r\n\r\nimport { GoOrganization } from 'react-icons/lib/go'\r\n\r\n// 展示组件\r\nclass Organization extends Component {\r\n  static contextTypes = {\r\n    store: PropTypes.object,\r\n    onAddOrganization: PropTypes.func,\r\n    onDeleteOrganization: PropTypes.func,\r\n    onUpdateOrganization: PropTypes.func,\r\n    auth: PropTypes.object\r\n  }\r\n  replaceLocation = replaceLocation\r\n  handleUpdate = replaceLocation\r\n  handleDelete = handleDelete\r\n  handleJoin = handleJoin\r\n  // DONE 2.2 退出确认\r\n  handleExit = handleExit\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = { update: false }\r\n  }\r\n  static avatar (user) {\r\n    // return Random.dataImage('30x30', user.fullname[0].toUpperCase())\r\n    // DONE 2.1 成员列表参考 ProductHunt\r\n    // DONE 2.1 测试环境总会会请求到 BOSS 们的头像。。。\r\n    // process.env.NODE_ENV === 'development' ? ... : ...\r\n    return `https://work.alibaba-inc.com/photo/${user.empId}.220x220.jpg`\r\n  }\r\n  render () {\r\n    let { auth } = this.context\r\n    let { organization } = this.props\r\n    let owned = organization.owner.id === auth.id\r\n    let joined = organization.members.find(user => user.id === auth.id)\r\n    let selfHelpJoin = false // DONE 2.1 不允许自助加入团队\r\n    return (\r\n      <section className='Organization card'>\r\n        <div className='card-block'>\r\n          <div className='header clearfix'>\r\n            <span className='title'>\r\n              <GoOrganization className='mr6 color-9' />\r\n              <Link to={`/organization/repository?organization=${organization.id}`} >{organization.name}</Link>\r\n            </span>\r\n            <span className='toolbar'>\r\n              {owned || joined ? ( // 拥有或已加入\r\n                <span className='fake-link operation mr5' onClick={e => this.setState({ update: true })}>编辑</span>\r\n              ) : null}\r\n              {this.state.update && (\r\n                <RModal when={this.state.update} onClose={e => this.setState({ update: false })} onResolve={e => this.handleUpdate()}>\r\n                  <OrganizationForm title={`编辑团队 #${organization.id}`} organization={organization} />\r\n                </RModal>\r\n              )}\r\n              {owned ? ( // 拥有\r\n                <Link to='' onClick={e => this.handleDelete(e, organization)} className='operation mr5'>删除</Link>\r\n              ) : null}\r\n              {!owned && joined ? ( // 不拥有，已加入\r\n                <Link to='' onClick={e => this.handleExit(e, organization)} className='operation mr5'>退出</Link>\r\n              ) : null}\r\n              {!owned && !joined && selfHelpJoin ? ( // 不拥有，未加入\r\n                <Link to='' onClick={e => this.handleJoin(e, organization)} className='operation mr5'>加入</Link>\r\n              ) : null}\r\n            </span>\r\n          </div>\r\n          <div className='body'>\r\n            <div className='desc'>{organization.description}</div>\r\n            <div className='members'>\r\n              <Popover content={`${organization.owner.fullname} ${organization.owner.id}`}>\r\n                <img alt={organization.owner.fullname} src={Organization.avatar(organization.owner)} className='avatar owner' />\r\n              </Popover>\r\n              {organization.members.map(user =>\r\n                <Popover key={user.id} content={`${user.fullname} ${user.id}`}>\r\n                  <img alt={user.fullname} title={user.fullname} src={Organization.avatar(user)} className='avatar' />\r\n                </Popover>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\n// 容器组件\r\nconst mapStateToProps = (state) => ({})\r\nconst mapDispatchToProps = ({})\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Organization)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/organization/Organization.jsx","import React, { Component } from 'react'\r\nimport { PropTypes, connect } from '../../family'\r\nimport Organization from './Organization'\r\n\r\n// 展示组件\r\nclass OrganizationList extends Component {\r\n  // DONE 2.1 补全 propTypes\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    organizations: PropTypes.array.isRequired\r\n  }\r\n  render () {\r\n    let { name, organizations } = this.props\r\n    if (!organizations.length) {\r\n      return name\r\n        ? <div className='fontsize-14 text-center p40'>没有找到匹配 <strong>{name}</strong> 的团队。</div>\r\n        : <div className='fontsize-14 text-center p40'>没有数据。</div>\r\n    }\r\n    return (\r\n      <div className='OrganizationList'>\r\n        {organizations.map(organization =>\r\n          <Organization key={organization.id} organization={organization} />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// 容器组件\r\nconst mapStateToProps = (state) => ({})\r\nconst mapDispatchToProps = ({})\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(OrganizationList)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/organization/OrganizationList.jsx","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".OrganizationListWrapper{padding:2rem}.OrganizationListWrapper>.header{margin-bottom:2rem}.OrganizationListWrapper>.header .title{font-size:2rem}.OrganizationListWrapper>.toolbar{margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #e1e4e8}.OrganizationListWrapper>.toolbar select.OrganizationsTypeDropdown{margin-right:.5rem;font-size:1.4rem}.OrganizationListWrapper>.toolbar button.OrganizationCreateButton{padding:.4rem 1rem;font-size:1.4rem}.OrganizationListWrapper>.toolbar .form-control{margin-bottom:0}.OrganizationListWrapper .OrganizationList .Organization.card{margin-bottom:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.header .title{margin-bottom:.5rem;font-size:1.4rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.header .toolbar{float:right;display:none;margin-left:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .desc{margin-bottom:.5rem;color:#666}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .avatar{margin-right:.2rem;width:2.5rem;height:2.5rem;border-radius:50%}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .avatar.owner{margin-right:1rem}.OrganizationListWrapper .OrganizationList .Organization.card .card-block>.body .members .popover{white-space:nowrap}.OrganizationListWrapper .OrganizationList .Organization.card .card-block:hover>.header .toolbar{display:inline-block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?importLoaders=1!./~/postcss-loader!./src/components/organization/Organization.css\n// module id = 87\n// module chunks = 6 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./Organization.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./Organization.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?importLoaders=1!../../../node_modules/postcss-loader/index.js!./Organization.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/organization/Organization.css\n// module id = 88\n// module chunks = 6 7","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { contextTypes, childContextTypes, getChildContext, CreateButton, OrganizationsTypeDropdown, SearchGroup, OrganizationListWithSpin, mapDispatchToProps } from './OrganizationListParts'\r\nimport _ from 'lodash'\r\nimport moment from 'moment'\r\nimport './Organization.css'\r\n\r\n// 我拥有和加入的团队\r\nclass JoinedOrganizationList extends Component {\r\n  static contextTypes = contextTypes\r\n  static childContextTypes = childContextTypes\r\n  getChildContext = getChildContext\r\n  render () {\r\n    let { location, match, organizations } = this.props\r\n    return (\r\n      <section className='OrganizationListWrapper'>\r\n        <nav className='toolbar clearfix'>\r\n          <OrganizationsTypeDropdown url={match.url} />\r\n          <SearchGroup name={location.params.name} />\r\n          <CreateButton />\r\n        </nav>\r\n        <div className='body'>\r\n          <OrganizationListWithSpin name={location.params.name} organizations={organizations} />\r\n        </div>\r\n        <div className='footer'>\r\n          {/* 没有分页！ */}\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  joiner: state.auth,\r\n  organizations: {\r\n    fetching: state.ownedOrganizations.fetching || state.joinedOrganizations.fetching,\r\n    data: _.uniqBy([...state.ownedOrganizations.data, ...state.joinedOrganizations.data], 'id')\r\n      .sort((a, b) => {\r\n        return moment(b.updatedAt).diff(a.updatedAt)\r\n      })\r\n  }\r\n})\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(JoinedOrganizationList)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/organization/JoinedOrganizationList.jsx"],"sourceRoot":""}